package persistidor.servicios;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import persistidor.entidades.Sesion;
import persistidor.repositorios.RepositorioDeSesiones;

@Service
public class ServicioDeSesiones
{
	@Autowired
	private RepositorioDeSesiones repositorioDeSesiones;

	public Sesion obtenerSesionPorId(long idSesion)
	{
		return repositorioDeSesiones.findById(idSesion).orElse(null);
	}

	public void crearSesion(Sesion sesion)
	{
		repositorioDeSesiones.save(sesion);
	}

	public void actualizarSesion(Sesion sesion)
	{
		long idSesion = sesion.getId();
		Sesion sesionDeLaBaseDeDatos = repositorioDeSesiones.findById(idSesion).get();
		  
        if (Objects.nonNull(department.getDepartmentName()) && !"".equalsIgnoreCase(department.getDepartmentName())) {
            depDB.setDepartmentName(department.getDepartmentName());
        }
  
        if (Objects.nonNull(department.getDepartmentAddress()) && !"".equalsIgnoreCase(department.getDepartmentAddress())) {
            depDB.setDepartmentAddress(department.getDepartmentAddress());
        }
  
        if (Objects.nonNull(department.getDepartmentCode()) && !"".equalsIgnoreCase(department.getDepartmentCode())) {
            depDB.setDepartmentCode(department.getDepartmentCode());
        }
  
        return departmentRepository.save(depDB);
	}

	public void eliminarSesion(long idSesion)
	{
		repositorioDeSesiones.deleteById(idSesion);
	}
	
	public boolean existeSesion(long idSesion)
	{
		return repositorioDeSesiones.existsById(idSesion);
	}
}
